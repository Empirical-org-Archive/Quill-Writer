/**
 * angular-strap
 * @version v2.1.5 - 2014-12-23
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var e=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1},t=this.controller=function(t,s,a){var n=this;n.$options=angular.copy(e),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed"],function(e){angular.isDefined(a[e])&&(n.$options[e]=a[e])}),n.$toggles=[],n.$targets=[],n.$viewChangeListeners=[],n.$registerToggle=function(e){n.$toggles.push(e)},n.$registerTarget=function(e){n.$targets.push(e)},n.$unregisterToggle=function(e){var t=n.$toggles.indexOf(e);n.$toggles.splice(t,1)},n.$unregisterTarget=function(e){var t=n.$targets.indexOf(e),s=n.$targets.$active;n.$targets.splice(t,1),s>t?s--:t===s&&s===n.$targets.length&&s--,n.$setActive(s)},n.$targets.$active=n.$options.startCollapsed?-1:0,n.$setActive=t.$setActive=function(e){n.$targets.$active=n.$options.disallowToggle?e:n.$targets.$active===e?-1:e,n.$viewChangeListeners.forEach(function(e){e()})}};this.$get=function(){var s={};return s.defaults=e,s.controller=t,s}}).directive("bsCollapse",["$window","$animate","$collapse",function(e,t,s){s.defaults;return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",s.controller],link:function(e,t,s,a){var n=a[0],i=a[1];n&&(i.$viewChangeListeners.push(function(){n.$setViewValue(i.$targets.$active)}),n.$formatters.push(function(e){return i.$targets.$active!==1*e&&i.$setActive(1*e),e}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(e,t,s,a){var n=(a[0],a[1]);t.attr("data-toggle","collapse"),n.$registerToggle(t),e.$on("$destroy",function(){n.$unregisterToggle(t)}),t.on("click",function(){var a=s.bsCollapseToggle||n.$toggles.indexOf(t);n.$setActive(1*a),e.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(e){return{require:["^?ngModel","^bsCollapse"],link:function(t,s,a,n){function i(){var t=o.$targets.indexOf(s),a=o.$targets.$active;e[t===a?"addClass":"removeClass"](s,o.$options.activeClass)}var o=(n[0],n[1]);s.addClass("collapse"),o.$options.animation&&s.addClass(o.$options.animation),o.$registerTarget(s),t.$on("$destroy",function(){o.$unregisterTarget(s)}),o.$viewChangeListeners.push(function(){i()}),i()}}}]);
//# sourceMappingURL=collapse.min.js.map